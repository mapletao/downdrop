<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<title>下拉框测试demo</title>
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/downdrop.css" />
	<style type="text/css">
		    .main{
		    	display: inline-block;
    			border: 1px solid #ccc;
    			margin-top: 10px;
    			padding: 5px 10px;
    			background-color: #ddd;
  			}
  			.main:hover{
  				color:#fff;
  				background: #5D5A5A;
  			}
	</style>
</head>
<body>
	<p>默认</p>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" id="J_test1"></div>
	<p>不赋值</p>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" id="J_test2"></div>
	<p>不隐藏</p>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" id="J_test3"></div>
	<p>不赋值,不隐藏</p>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" id="J_test4"></div>
	<p>class操作</p>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" class="test"></div>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" class="test"></div>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" class="test"></div>
	<div style="width:200px;margin-left: 20px;margin-top:10px;" class="test"></div>
	<a href="#main" onclick="changeList()" class="main">点击我</a>
	<script src="js/common.js"></script>
	<script src="js/downdrop.js"></script>

	<script type="text/javascript">
		var data=[{
			"val":1,
			"text":"语文"
		},{
			"val":2,
			"text":"数学"
		},{
			"val":3,
			"text":"英语"
		},{
			"val":4,
			"text":"历史"
		},{
			"val":5,
			"text":"化学"
		},{
			"val":6,
			"text":"生物"
		},{
			"val":7,
			"text":"物理"
		}];
		var test1={
			ele:document.getElementById("J_test1"),
			data:data
		};
		var obj=new Downdrop(test1);
		var test2={
			ele:document.getElementById("J_test2"),
			data:data,
			text:false
		}
		var obj2=Downdrop(test2);
		var test3={
			ele:document.getElementById("J_test3"),
			data:data,
			isHide:false
		}
		var obj3=new Downdrop(test3);
		var test4={
			ele:document.getElementById("J_test4"),
			data:data,
			isHide:false,
			text:false
		};
		var obj4=new Downdrop(test4);
		
		var test5={
			ele:document.getElementsByClassName("test"),
			data:data
		}
		var obj5=new Downdrop(test5);
		
  	mapletao.ajax({
  		url:"http://localhost:8888/data/listItem2.json",
  		data:"11",
  		type:"GET",
  		success:function(data){
  			obj2.setList(data);
  		},
  		error:function(){
  		}
  	});
  	mapletao.ajax({
  		url:"http://localhost:8888/data/listItem.json",
  		data:"11",
  		type:"GET",
  		timeout:0,
  		success:function(data){
  			obj.setList(data);
  		},
  		error:function(){
  		}
  	});
  	function  changeList(){
  		alert(1);
  		mapletao.ajax({
	  		url:"http://localhost:8888/data/listItem2.json",
	  		data:"11",
	  		type:"GET",
	  		timeout:0,
	  		success:function(data){
	  			obj.setList(data);
	  		},
	  		error:function(){
	  			// alert(0);
	  		}
  		});
  		changeList=function(){

  		};
  	}
  	
  // 	var socket = new WebSocket('ws://localhost:8888'); 
  // 	// 打开Socket 
		// socket.onopen = function(event) { 

		//   // 发送一个初始化消息
		//   socket.send('I am the client and I\'m listening!'); 

		//   // 监听消息
		//   socket.onmessage = function(event) { 
		//     console.log('Client received a message',event); 
		//   }; 

		//   // 监听Socket的关闭
		//   socket.onclose = function(event) { 
		//     console.log('Client notified socket has closed',event); 
		//   }; 

		//   // 关闭Socket.... 
		//   //socket.close() 
		// };
	</script></body>
</html>